<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>hexo &amp; Typora 实现图片插入</title>
    <url>/2025/01/25/Image-Test/</url>
    <content><![CDATA[<h3 id="一、问题引出"><a href="#一、问题引出" class="headerlink" title="一、问题引出"></a>一、问题引出</h3><p>使用hexo框架结合github搭建Blog网站，在本地使用Typora写md文档，在hexo s本地部署和hexo d上传到Github使图片无法正常显示。</p>
<p><strong>原因：</strong></p>
<ol>
<li><p>将图片复制到Typora编辑器的md文档中时，图片保存在一个绝对路径的文件夹下，如图所示：</p>
<img src="/2025/01/25/Image-Test/image-20250125230121349.png" class="" title="image-20250125230121349">
</li>
<li><p>展现在网络上的Blog（无论是本地还是Github）不是md文件而是html文件，图片引用需要从md语言转换到html语言，在运行hexo g时hexo框架将图片引用转化为html语言时无法识别md图片引用语言，而是hexo专属的引用方式：（需要通过插件实现图片应用格式的自动转换）</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;% asset_img example.jpg This is an example image %&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="二、实现效果"><a href="#二、实现效果" class="headerlink" title="二、实现效果"></a>二、实现效果</h3><p>实现图片在Typora、本地和Github都可以正常显示</p>
<ol>
<li>Typora编辑器预览</li>
</ol>
<img src="/2025/01/25/Image-Test/image-20250125224822189.png" class="" title="image-20250125224822189">

<ol start="2">
<li><p>本地图片显示</p>
<img src="/2025/01/25/Image-Test/image-20250125201720433.png" class="" title="image-20250125201720433">
</li>
<li><p>github图片显示</p>
<img src="/2025/01/25/Image-Test/image-20250125201645033.png" class="" title="image-20250125201645033"></li>
</ol>
<h3 id="三、实现方式"><a href="#三、实现方式" class="headerlink" title="三、实现方式"></a>三、实现方式</h3><ol>
<li><p><strong>配置hexo</strong></p>
<ol>
<li><p>将Blog根目录下的_config.yml文件中的 post_asset_folder选项改为true（注意冒号后面的空格）</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">post_asset_folder: true</span><br></pre></td></tr></table></figure>


</li>
<li><p>创建一个新的文章，在blog根目录下启动命令行运行以下代码</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">hexo new xxx</span><br></pre></td></tr></table></figure>

<p>此时，在.&#x2F;source&#x2F;_posts路径下，会新建一个xxx的md文件和一个xxx的文件夹，xxx文件夹用来储存图片。</p>
</li>
<li><p>使用Typora打开md文件开始写作。</p>
</li>
</ol>
</li>
<li><p><strong>配置Typora</strong>：设置Typora图片引用格式</p>
</li>
</ol>
<img src="/2025/01/25/Image-Test/image-20250125225041063.png" class="" title="image-20250125225041063">

<p>(1) <strong>设置指定路径</strong>.&#x2F;${filename}$ </p>
<p>(2) 勾选<strong>优先使用相对路径</strong></p>
<p>此时，将图片复制到Typora，在源代码下图片引用格式应为</p>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">！[<span class="string">图片名</span>](<span class="link">新建博文名称/图片名称.图片格式</span>)</span><br><span class="line">例如：</span><br><span class="line">&#123;% asset<span class="emphasis">_img image-20250125225041063.png image-20250125225041063 %&#125;</span></span><br></pre></td></tr></table></figure>



<ol start="3">
<li><strong>安装hexo插件</strong></li>
</ol>
<p>需要从md图片应用方式转换到hexo图片应用方式，即：</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">&#123;% asset_img image-20250125225041063.png image-20250125225041063 %&#125; -&gt; &#123;% image-20250125225041063.png image-20250125225041063 %&#125;</span><br></pre></td></tr></table></figure>

<p>在博客文件夹下启动命令行，下载插件hexo-asset-img</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">npm install hexo-asset-img --save</span><br></pre></td></tr></table></figure>

<p><font color='red'>！！！注意不是hexo-asset-image，如果下载插件错误，使用npm uninstall hexo-asset-image卸载插件！！！</font></p>
<p>检查是否下载成功，在博客根目录启动命令行输入以下命令，查看是否有hexo-asset-img</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">npm list</span><br></pre></td></tr></table></figure>

<img src="/2025/01/25/Image-Test/image-20250125233713906.png" class="" title="image-20250125233713906">

<h3 id="四、正确操作"><a href="#四、正确操作" class="headerlink" title="四、正确操作"></a>四、正确操作</h3><p>在完成上述设置后，写博文的正确操作：</p>
<ol>
<li><p>hexo new xxx 新建一个新的博文，此时hexo会在.&#x2F;source&#x2F;_posts路径下创建同名的文件夹和md文件，使用Typora打开md文件</p>
</li>
<li><p>将图片粘贴在md文件中时，Typora会在同名文件夹中储存该图片，而且在Typora中的图片引用语法应该为以下格式</p>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% asset<span class="emphasis">_img image-20250125225041063.png image-20250125225041063 %&#125;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>写完文章运行hexo g，hexo-assit-img插件会自动将md图片引用语言转化为hexo识别的语言，并转化为html语言，在根目录.&#x2F;public&#x2F;index.html文件中可以看到图片对应的引用语言：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;img src=&quot;/2025/01/25/Image-Test/image-20250125225041063.png&quot; class=&quot;&quot; title=&quot;image-20250125225041063&quot;&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>运行hexo s本地调试，图片可以正常显示</p>
</li>
<li><p>运行hexo d上传到github，图片可以正常显示</p>
</li>
</ol>
]]></content>
      <tags>
        <tag>hexo</tag>
      </tags>
  </entry>
  <entry>
    <title>hexo-next主页文章折叠</title>
    <url>/2025/01/27/unfold-home/</url>
    <content><![CDATA[<h1 id="解决方法1："><a href="#解决方法1：" class="headerlink" title="解决方法1："></a>解决方法1：</h1>]]></content>
      <tags>
        <tag>hexo-next</tag>
      </tags>
  </entry>
  <entry>
    <title>My First Blog</title>
    <url>/2025/01/24/My-First-Blog/</url>
    <content><![CDATA[<h2 id="1-你好！"><a href="#1-你好！" class="headerlink" title="1 你好！"></a>1 你好！</h2><p>这是第一篇Blog！</p>
]]></content>
  </entry>
</search>
